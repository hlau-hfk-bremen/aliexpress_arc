"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6424],{59317:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var n=r(27378),i=r(44475),a=r(38303),o=r(45115),c=r(70316),s=r(6284),l=r(25252),u=r(55336),p=r(61932),m=r(92371),d=r(55889),g=r(40),b=r(81458),y=r(48063),h=r(73503),v=r(98843),f=r(67427),w=r(68442),O=r(10043),P=r(61557),x=r(55577);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S,j={base:{min:b.Yt,max:b.c1-1},small:{min:b.c1,max:b.Dq-1},medium:{min:b.Dq,max:b.W3-1},large:{min:b.W3,max:b.nP-1},xl:{min:b.nP,max:b.J8-1},xxl:{min:b.J8}},I=(e,t,r)=>{var n="(min-width: ".concat((0,g.s)(e),")"),i=t?"(max-width: ".concat((0,g.s)(t),")"):"",a=t?"".concat(n," and ").concat(i):n;return"@media ".concat(a," { ").concat(r," }")},D=(e,t)=>{var r=["top","right","bottom","left"],n={};return(0,O.iv)(Object.entries(j).map((i=>{var[a,o]=i,{min:c,max:s}=o;n=t[a]?B(B({},n),t[a]):n;var l=r.map((t=>{var r=n[t],i="".concat(e,"-").concat(t);return r?"".concat(i,": ").concat("auto"===r?r:m["SPACING_".concat(r)],";"):void 0})).filter(Boolean);return I(c,s,l.join(" "))})).join(" "))},T=["experimentationData","children"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}function A(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var N=(0,w.default)("div",{target:"e1ia0oo910",label:"OnwardJourneysOuterContainerWrapper"})("background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";"),_=e=>{var{id:t,isContained:r,children:i}=e;return r?n.createElement(N,{"data-component":"".concat(t,"-wrapper")},n.createElement(y.Z,{width:"full"},i)):i},M=(0,w.default)("div",{target:"e1ia0oo99",label:"OnwardJourneysContainerWrapper"})("box-sizing:border-box;",(e=>{var{marginsByBreakpoint:t}=e;return D("margin",t)})," ",(e=>{var{paddingsByBreakpoint:t}=e;return D("padding",t)})," ",(e=>{var{sizeByBreakpoint:t}=e;return t&&(e=>{var t=["height","width","max-height","max-width"],r={};return(0,O.iv)(Object.entries(j).map((n=>{var[i,a]=n,{min:o,max:c}=a;r=e[i]?B(B({},r),e[i]):r;var s=t.map((e=>{var t=r[e];return t?"".concat(e,": ").concat((0,g.s)(b.$X["group-".concat(t)]),";"):void 0})).filter(Boolean);return I(o,c,s.join(" "))})).join(" "))})(t)}),";"),W=(0,w.default)("div",{target:"e1ia0oo98",label:"PromoGroupWrapper"})((e=>{var{promoGroupMarginsByBreakpoint:t}=e;return D("margin",t)})," ",u.eV," ",p.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";",(e=>{var t,r,{hasMaxReadableWidth:n}=e;return n&&(0,O.iv)(S||(t=["\n      max-width: ",";\n    "],r||(r=t.slice(0)),S=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))),h.q)}),">ul,ol{display:grid;column-gap:",m.SPACING_4,";",(e=>{var{columnsByBreakpoint:t,numberOfItems:r}=e;return(e=>{var t,{columnsByBreakpoint:r,numberOfItems:n}=e,i=B(B({},r),{},{base:r.base||1});return(0,O.iv)(Object.entries(j).map((e=>{var[r,a]=e,{min:o,max:c}=a;t=i[r]?i[r]:t;var s="\n          grid-template-columns: ".concat(1===t?"1fr":"repeat(".concat(2===n?"2":t,", 1fr)")," ;\n          ").concat(1===t&&1===n&&"li { margin-bottom: 0; }","\n          ").concat(t>1&&"padding-bottom: ".concat(m.SPACING_6),"\n        ");return I(o,c,s)})).join(" "))})({columnsByBreakpoint:t,numberOfItems:r})}),";>",d.b,"{margin-top:0;}}"),H=(0,w.default)("li",{target:"e1ia0oo97",label:"PromoItem"})((e=>{var{promoMarginsByBreakpoint:t}=e;return D("margin",t)})," ",(e=>{var{promoPaddingsByBreakpoint:t}=e;return t&&D("padding",t)})," border-top:",(e=>{var{promoWithRowDividerTop:t,promoRowDividerColor:r}=e;return t&&"1px solid ".concat((0,f.b)(r))}),";"),U=(0,w.default)("div",{target:"e1ia0oo96",label:"Disclaimer"})(p.pG,";"),z=(0,w.default)("span",{target:"e1ia0oo95",label:"IconContainer"})("display:inline-block;vertical-align:-0.11rem;margin-right:",(0,g.s)(2),";"),q=(0,w.default)("li",{target:"e1ia0oo94",label:"PromoItemLoading"})("margin-bottom:",m.SPACING_4,";"),J=(0,w.default)("div",{target:"e1ia0oo93",label:"LoadingImage"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";width:100%;@media (min-width: ",b.c0,"){height:",(0,g.s)(110),";}@media (min-width: ",b.TN,"){height:",(0,g.s)(140),";}@media (min-width: ",b.O9,"){height:",(0,g.s)(160),";}@media (min-width: ",b.lK,"){height:",(0,g.s)(180),";}"),Z=(0,w.default)("div",{target:"e1ia0oo92",label:"LoadingText"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";margin-top:",m.SPACING_2,";height:",(0,g.s)(24),";width:",(e=>{var{width:t}=e;return"".concat(t,"%")}),";"),F=(0,w.default)("div",{target:"e1ia0oo91",label:"LoadingHeading"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";margin-top:0;@media (min-width: ",b.c0,"){height:",(0,g.s)(22),";}@media (min-width: ",b.TN,"){height:",(0,g.s)(24),";}"),V=(0,w.default)("div",{target:"e1ia0oo90",label:"PromosLoadingWrapper"})({name:"1xyc2b2",styles:"html.no-js &{display:none;}"}),X=e=>{var{id:t,limit:r,hasMaxReadableWidth:a,columnsByBreakpoint:o,sizeByBreakpoint:c,marginsByBreakpoint:s,paddingsByBreakpoint:l,promoGroupMarginsByBreakpoint:u}=e;return n.createElement(V,null,n.createElement(i.Z,{id:"".concat(t,"-label")},"loading ".concat(t," stories")),n.createElement(M,{"data-component":"".concat(t,"-loading"),"aria-hidden":"true",sizeByBreakpoint:c,marginsByBreakpoint:s,paddingsByBreakpoint:l},n.createElement(F,null),n.createElement(W,{numberOfItems:r,hasMaxReadableWidth:a,columnsByBreakpoint:o,promoGroupMarginsByBreakpoint:u},n.createElement(v.Z,{as:"ul"},[...Array(r)].map(((e,t)=>n.createElement(q,{key:t,"data-component":"promo-item-loading"},n.createElement(J,null),n.createElement(Z,{width:100}),n.createElement(Z,{width:50}))))))))},K=e=>{var{experimentationData:t,children:r}=e,i=A(e,T);return t?n.createElement(l.f,{experimentation:{view:t}},(e=>{var{trackRef:t}=e;return n.createElement("div",R({ref:t},i),r)})):r},$=e=>{var{data:{promos:t=[],disclaimer:r,sectionHeader:i}={},id:u,showImage:p,enableDotcomAds:m,insertAdSlotAtIndex:d,sizeByBreakpoint:g,marginsByBreakpoint:b={base:{top:"4",bottom:"6"}},paddingsByBreakpoint:y={base:{top:"3"}},promoGroupMarginsByBreakpoint:h={base:{top:"4"}},promoPaddingsByBreakpoint:f,promoMarginsByBreakpoint:w={base:{bottom:"4"}},promoSize:O,promoWithRowDividerTop:k=!1,promoRowDividerColor:B="grey-5",hasMaxReadableWidth:E,columnsByBreakpoint:S={base:1},isRanking:j,showLoadingState:I,imageLoading:D="lazy",limit:T,isContained:C=!1,promoIsContained:L=!0,sectionHeaderFontScale:R="indexHeadlineMedium",headingExperimentationData:A}=e;return!I||null!=t&&t.length?null!=t&&t.length?n.createElement(_,{id:u,isContained:C},n.createElement(M,{"data-component":u,sizeByBreakpoint:g,marginsByBreakpoint:b,paddingsByBreakpoint:y},n.createElement(K,{experimentationData:A},n.createElement(a.Z,{id:"".concat(u,"-label"),level:"2",fontScale:R},i)),n.createElement(W,{numberOfItems:t.length,hasMaxReadableWidth:E,columnsByBreakpoint:S,promoGroupMarginsByBreakpoint:h},n.createElement(v.Z,{as:j?"ol":"ul"},t.map(((e,t)=>{var{description:r,experimentation:i,headline:a,image:c,isLive:s,metadataStripItems:u=[],pageTypeIndicator:g,rank:b,size:y=O,tracking:h,url:v,service:E}=e,S=()=>m&&t===d?n.createElement(H,{className:"dotcom-ad-container",hidden:!0,promoMarginsByBreakpoint:w,promoPaddingsByBreakpoint:f,promoWithRowDividerTop:k,promoRowDividerColor:B},n.createElement(x.Z,{slotType:"infeed_news_story",enable:m})):null;return n.createElement(l.f,{tracking:h,experimentation:i,key:t},(e=>{var{trackRef:i}=e;return n.createElement(n.Fragment,null,n.createElement(S,{key:"".concat(t,"-DotcomAdSlotInfeed")}),n.createElement(H,{ref:i,key:t,promoMarginsByBreakpoint:w,promoPaddingsByBreakpoint:f,promoWithRowDividerTop:k,promoRowDividerColor:B},j?n.createElement(P.Z,{headline:a,rank:b,url:v,isContained:L,pageTypeIndicator:g,metadataStripItems:u.length?u:void 0,service:E}):n.createElement(o.Z,{description:r,headline:a,image:p&&c?G(G({},c),{},{loading:D}):void 0,metadataStripItems:u.length?u:void 0,pageTypeIndicator:g,size:y,url:v,live:s,isContained:L,service:E})))}))}))),r&&n.createElement(U,{"data-component":"".concat(u,"-disclaimer")},n.createElement(c.Z,{url:r.url},n.createElement(z,null,n.createElement(s.Z,{type:"labels:info"})),r.text))))):null:n.createElement(X,{id:u,limit:T,hasMaxReadableWidth:E,columnsByBreakpoint:S,sizeByBreakpoint:g,marginsByBreakpoint:b,paddingsByBreakpoint:y,promoGroupMarginsByBreakpoint:h})}},86460:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var n=r(45599),i=r(19773),a=r(28433),o=r(67977),c={"en-GB":{attribution:"Attribution",audio:"Audio",video:"Video",published:"Published"},cy:{attribution:"Adran y stori",audio:"Sain",video:"Fideo",published:"Cyhoeddwyd"},gd:{attribution:"Buaidh-aithris",audio:"Clàr-fuaime",video:"Bhideo",published:"Air fhoillseachadh"}},s=(e,t)=>{switch(e){case"audio":return{iconType:"content-types:audio",altText:c[t].audio};case"video":return{iconType:"playback-avkx:play",altText:c[t].video};default:return}},l={iplayer:"iPlayer",sounds:"Sounds",news:"News",sport:"Sport",weather:"Weather",bitesize:"Bitesize"},u="BBC",p=e=>{var t;return"/"===e.charAt(0)?(t=e.split("/")[1],l[t]||u):(e=>{try{var{host:t,pathname:r}=new URL(e);if(!/((bbc|bbci|bbcrewind)(?:\.co\.uk|\.com))/i.test(t))return"External";var n=r.split("/")[1];return l[n]||u}catch(i){return u}})(e)},m=e=>{if(!e.startsWith("https://www.bbc.co")&&!e.startsWith("http://www.bbc.co")&&!e.startsWith("/"))return"";var{pathname:t}=new URL(e,"https://www.bbc.co.uk");return t.split("/")[1]},d=e=>{var{index:t,label:r,url:n,id:i,container:a,containerIndex:o=1}=e,c={};return"regionalIndexExternalLinks"===i?c.POS="external-bottom-".concat(t,"-LinkStory"):(c.PAR="".concat(a,"::").concat(o),c.CHD="promo::".concat(t)),c.EXT=(e=>!!["regionalIndexExternalLinks","blogsThePapers"].includes(e))(i)?1:0,{container:a,label:r,url:n,source:m(n),metadata:c}},g=216,b=385;function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(e,t)=>{var{summaries:r}=e,{atiContainerId:l,experimentation:u,groupEngineStats:y,groupName:v,groupPosition:f,groupResourceId:w,groupType:O,id:P,language:x,limit:k,showImage:B,showDescription:E,showTimestamp:S,showCommentsCount:j,showSubscriptionLabel:I,showExternalLabel:D,service:T,isUk:C}=t,G=[];return(k?r.slice(0,k):r).map(((e,t)=>{var k,{titles:L,images:R,link:{url:A},dates:{lastPublished:N},descriptions:_,type:M,isLive:W,urn:H,commentsCount:U,home:z,flags:q}=e;if(G.includes(H))return n.vU("Content summaries transformer received data that contains duplicate items for the following urn: ".concat(H)),null;G.push(H);var J,Z=[],F=(0,o.Vd)(z),V=p(A);(0,o.uH)(T,F,C)&&Z.push({iconType:"service-identifiers:".concat(F),text:V,url:"https://www.bbc.co.uk/".concat(F),type:"attribution",label:c[x].attribution}),S&&!W&&N&&Z.push({label:c[x].published,text:(0,i.x)(N,{language:x})}),j&&U&&Z.push({label:"Comments",iconType:"participate:comments",text:U}),B&&R&&R.length&&(J={alt:R[0].altText,src:R[0].url,height:g,width:b}),!B||R&&R.length||(J={src:"https://ichef.bbci.co.uk/images/ic/400xn/p0b36kgx.png",alt:"Placeholder BBC logo",height:g,width:b}),D&&!/^(?:#(?:[^.]+\.)*)|(?:\/\/|https?:\/\/)?(?:[^.]+\.)*((bbc|bbci)(?:\.co\.uk|\.com|\.in))(:|\/|$)/.test(A)&&Z.push({label:"External link",text:"External link"}),I&&null!=q&&q.isSubscription&&Z.push({label:"Subscription",text:"Subscription"});var X=L.find((e=>"primary"===e.type)).title,K=h(h({},d({id:P,container:l,label:X,index:t+1,url:A})),(0,a.XP)({groupEngineStats:y,groupName:v,groupPosition:f,groupResourceId:w,groupType:O||"promo group",groupItemCount:r.length,url:A,type:M,itemPosition:t,itemResourceId:H,headline:X,metadataStripItems:[{label:"Attribution",text:m(A)}]}));return{description:E?null==_||null===(k=_[0])||void 0===k?void 0:k.text:void 0,experimentation:u,headline:X,image:J,isLive:W,metadataStripItems:Z.length?Z:void 0,tracking:K,pageTypeIndicator:s(M,x),url:A,service:F}})).filter(Boolean)};function w(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var O=function(){var e,t=(e=function*(e,t){var{analyticsDataSource:r,analyticsGroupEngineStats:n,analyticsGroupType:i,analyticsGroupPosition:a,disclaimer:o,experimentation:c,id:s,isUk:l,language:u,limit:p,sectionHeader:m,showDescription:d,showImage:g,showTimestamp:b,showCommentsCount:y,showSubscriptionLabel:h,showExternalLabel:v,service:w,urn:O}=e,{fablRequest:P}=t,x=r?"".concat(r.toLowerCase(),"_").concat(s,"_").concat(O):void 0,k={urn:O,pageSize:p},B={};Object.keys(k).forEach((e=>{var t=k[e];(t||"boolean"==typeof t)&&(B[e]=t)}));var{data:E}=yield P("content-summaries",B);if(!E.summaries.length)throw new Error("Content summaries FABL module returned an empty summaries array for ".concat(JSON.stringify(B)));return{promos:f(E,{atiContainerId:x,experimentation:c,groupEngineStats:n,groupName:r?"".concat(r," ").concat(m.text):"".concat(m.text),groupPosition:a,groupResourceId:O,groupType:i,id:s,language:u,limit:p,showDescription:d,showImage:g,showTimestamp:b,showCommentsCount:y,showSubscriptionLabel:h,showExternalLabel:v,urn:O,service:w,isUk:l}),disclaimer:o,sectionHeader:m.text}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){w(a,n,i,o,c,"next",e)}function c(e){w(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),P=O;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=e=>{switch(e){case"video":return"video";case"audio":return"audio";case"link":return"link";default:return"article"}},S=(e,t)=>{var{items:r}=e,{atiContainerId:n,experimentation:l,groupEngineStats:u,groupName:y,groupPosition:h,groupType:v,groupResourceId:f,id:w,isUk:O,language:P,service:x,showDescription:B,showImage:S,showTimestamp:j}=t;return r.map(((e,t)=>{var I,{headlines:D,image:T,isLive:C,rank:G,summary:L,timestamp:R,metadataStripItems:A=[],type:N,url:_}=e,M=p(_),W=(0,o.Vd)(M);(0,o.uH)(x,M,O)&&A.push({iconType:"service-identifiers:".concat(W),text:M,url:"https://www.bbc.co.uk/".concat(W),type:"attribution",label:c[P].attribution}),j&&!C&&R&&A.push({label:c[P].published,text:(0,i.x)(R,{language:P})}),S&&T&&(I={alt:T.alt,height:g,src:T.url,width:b}),S&&!T&&(I={src:"https://ichef.bbci.co.uk/images/ic/400xn/p0b36kgx.png",alt:"Placeholder BBC logo",height:g,width:b});var H=D.overtyped||D.shortHeadline||D.headline,U=k(k({},d({id:w,container:n,label:H,index:t+1,url:_})),(0,a.XP)({groupEngineStats:u,groupName:y,groupPosition:h,groupType:v||"promo group",groupItemCount:r.length,groupResourceId:f,url:_,itemPosition:t,type:E(N),headline:H,metadataStripItems:[{label:"Attribution",text:m(_)}]}));return{description:B?L:void 0,experimentation:l,headline:H,image:I,isLive:C,tracking:U,metadataStripItems:A,pageTypeIndicator:s(N,P),rank:G,url:_,service:W}})).filter((e=>e.headline))};function j(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var I=function(){var e,t=(e=function*(e,t){var{analyticsDataSource:r,analyticsGroupEngineStats:n,analyticsGroupType:i,analyticsGroupPosition:a,country:o,disclaimer:c,edition:s,experimentation:l,expiresInMs:u,id:p,language:m,limit:d,section:g,sectionHeader:b,showDescription:y,showImage:h,showTimestamp:v,service:f,isUk:w,urn:O}=e,{fablRequest:P}=t,x=r?"".concat(r.toLowerCase(),"_").concat(p):void 0,k={id:p,country:o,edition:s,section:g,limit:d},B={};Object.keys(k).forEach((e=>{var t=k[e];(t||"boolean"==typeof t)&&(B[e]=t)}));var E,j,{data:I}=yield P("onward-journeys",B);if(!I.items.length)throw new Error("Onward Journeys FABL module returned an empty items array for ".concat(JSON.stringify(B)));if(E=I.generated,(j=u)&&E&&(new Date).getTime()-E>j)throw new Error("Onward Journeys FABL Module returned stale content for ".concat(JSON.stringify(B)));return{promos:S(I,{atiContainerId:x,experimentation:l,groupEngineStats:n,groupName:r?"".concat(r," ").concat(b.text):"".concat(b.text),groupType:i,groupPosition:a,groupResourceId:O,id:p,language:m,showDescription:y,showImage:h,showTimestamp:v,service:f,isUk:w}),disclaimer:c,sectionHeader:b.text}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){j(a,n,i,o,c,"next",e)}function c(e){j(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),D=I;function T(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var C=function(){var e,t=(e=function*(e,t){var r,{analyticsDataSource:i,analyticsGroupEngineStats:a,analyticsGroupType:o,analyticsGroupPosition:c,country:s,disclaimer:l,experimentation:u,expiresInMs:p,id:m,language:d,limit:g,section:b,sectionHeader:y,showDescription:h,showImage:v,showTimestamp:f,urn:w,service:O,isUk:x}=e,{fablRequest:k,isPersonalised:B}=t,E=w,S={text:y.text};if(B)try{var j;E=null===(j=(yield k("personalised-curations",{id:m,personalisationEnabled:!0})).data)||void 0===j?void 0:j.urn,r=l,S.text=y.personalised}catch(I){n.vU(I)}return E?P({analyticsDataSource:i,analyticsGroupEngineStats:a,analyticsGroupType:o,analyticsGroupPosition:c,disclaimer:r,experimentation:u,id:m,language:d,limit:g,sectionHeader:S,showDescription:h,showImage:v,showTimestamp:f,urn:E,service:O,isUk:x},{fablRequest:k}):D({analyticsDataSource:i,analyticsGroupEngineStats:a,analyticsGroupType:o,analyticsGroupPosition:c,country:s,experimentation:u,expiresInMs:p,id:m,language:d,limit:g,section:b,sectionHeader:S,showDescription:h,showImage:v,showTimestamp:f,service:O,isUk:x},{fablRequest:k})},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){T(a,n,i,o,c,"next",e)}function c(e){T(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),G=C;function L(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var R=function(){var e,t=(e=function*(e,t){var{analyticsDataSource:r,analyticsGroupEngineStats:i,analyticsGroupType:a,analyticsGroupPosition:o,disclaimer:c,experimentation:s,id:l,language:u,limit:p,sectionHeader:m,showDescription:d,showImage:g,showTimestamp:b,service:y,isUk:h}=e,{fablRequest:v,isPersonalised:f}=t;if(!f)return{};try{var{data:{urn:w}}=yield v("personalised-curations",{id:l,personalisationEnabled:!0});return P({analyticsDataSource:r,analyticsGroupEngineStats:i,analyticsGroupType:a,analyticsGroupPosition:o,disclaimer:c,experimentation:s,id:l,language:u,limit:p,sectionHeader:m,showDescription:d,showImage:g,showTimestamp:b,urn:w,service:y,isUk:h},{fablRequest:v})}catch(O){return n.vU(O),{}}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){L(a,n,i,o,c,"next",e)}function c(e){L(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),A={contentSummaries:P,onwardJourneys:D,personalisedWithFallback:G,personalised:R}}}]);